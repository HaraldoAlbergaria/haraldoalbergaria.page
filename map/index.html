<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Haraldo Albergaria | Photos Map</title>
  <link rel="shortcut icon" type="image/x-icon" href="../icons/favicon.ico">
  <link rel="stylesheet" type="text/css" href="style.css" />
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<script src="js/locations.js"></script>
<script src="js/countries.js"></script>
<script src="js/countries_bbox.js"></script>
<script src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css" rel="stylesheet" />
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
#menu { position: absolute; background: #fff; padding: 10px;
font-family: 'Open Sans', sans-serif; cursor: default; }
</style>
</head>

<body>

<div id="map"></div>
<div id="menu">
<input id="streets-v11" type="radio" name="rtoggle" value="streets" checked="checked" />
<label for="streets-v11">streets</label>
<input id="outdoors-v11" type="radio" name="rtoggle" value="outdoors" />
<label for="outdoors-v11">outdoors</label>
<input id="satellite-v9" type="radio" name="rtoggle" value="satellite" />
<label for="satellite-v9">satellite</label>
</div>

<div class="photos-countries-panel">
    <div class="flag-icon"><img class="icon" src="icons/croatia.svg" title="Croatia" alt="Croatia" onclick="showCroatia()"/></div>
    <div class="flag-icon"><img class="icon" src="icons/italy.svg" title="Italy" alt="Italy" onclick="showItaly()"/></div>
    <div class="flag-icon"><img class="icon" src="icons/vatican.svg" title="Vatican" alt="Vatican" onclick="showVatican()"/></div>
    <div class="flag-icon"><img class="icon" src="icons/paraguay.svg" title="Paraguay" alt="Paraguay" onclick="showParaguay()"/></div>
    <div class="flag-icon"><img class="icon" src="icons/argentina.svg" title="Argentina" alt="Argentina" onclick="showArgentina()"/></div>
    <div class="flag-icon"><img class="icon" src="icons/united-states.svg" title="United States" alt="United States" onclick="showUnitedStates()"/></div>
    <div class="flag-icon"><img class="icon" src="icons/brazil.svg" title="Brazil" alt="Brazil" onclick="showBrazil()"/></div>
    <div class="flag-icon"><img class="icon" src="icons/european-union.svg" title="European Union" alt="European Union" onclick="showEuropeanUnion()"/></div>
    <div class="flag-icon"><img class="icon" src="icons/worldwide.svg" title="Worldwide" alt="Worldwide" onclick="showWorldwide()"/></div>
</div>

<div class="map-switcher">
    <div class="selected-photos">PHOTOS</div>
    <div class="unselected-exhibits" onclick="openExhibits()">EXHIBITS</div>
</div>

<div class="attribution">
    Icons made by <a href="https://www.flaticon.com/authors/turkkub" title="turkkub" target="_blank">turkkub</a> (World) and <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> (Countries) from <a href="https://www.flaticon.com/" title="Flaticon" target="_blank">www.flaticon.com</a>
</div>

<script>

    mapboxgl.accessToken = 'pk.eyJ1IjoiaGFyYWxkby1maWxobyIsImEiOiJja2NpNmNtNWUwZnZnMnlycDBwM3FjeXp2In0.B1eDc6wvyIq1r_LTC6hX0g';
    
    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11'
    });

    map.addControl(new mapboxgl.FullscreenControl({container: document.querySelector('body')}));

    function openExhibits() {
        window.location.replace("https://hpfilho.github.io/map/exhibits/")
    }
    map.addControl(new mapboxgl.NavigationControl());

    function openExhibits() {
        window.location.replace("https://hpfilho.github.io/map/exhibits/")
    }

    var layerList = document.getElementById('menu');
    var inputs = layerList.getElementsByTagName('input');

    function switchLayer(layer) {
        var layerId = layer.target.id;
        map.setStyle('mapbox://styles/mapbox/' + layerId);
    }

    for (var i = 0; i < inputs.length; i++) {
        inputs[i].onclick = switchLayer;
    }

    var west = 180;
    var south = 90;
    var east = -180;
    var north = -90;

    locations.forEach(addMarker);

    map.fitBounds([
        [west, south],
        [east, north]],
        {padding: 150}
    );

    function addMarker(value) {

        if (value[2] <= 35) {

            new mapboxgl.Marker({color:'#C2185B',scale:0.7,draggable:false})
                .setLngLat(value[0])
                .setPopup(new mapboxgl.Popup({closeButton:false,maxWidth:'566px'}).setHTML(value[1]))
                .addTo(map);
        } else {

            new mapboxgl.Marker({color:'#C2185B',scale:0.7,draggable:false})
                .setLngLat(value[0])
                .setPopup(new mapboxgl.Popup({closeButton:false,maxWidth:'592px'}).setHTML(value[1]))
                .addTo(map);
        }

        if (value[0][0] < west) {
            west = value[0][0];
        }

        if (value[0][0] > east) {
            east = value[0][0];
        }

        if (value[0][1] < south) {
            south = value[0][1];
        }

        if (value[0][1] > north) {
            north = value[0][1];
        }

    }

    function showWorldwide() {
        map.fitBounds([
          [-160, -20],
          [180, 60]],
          {padding: 50}
        );
    };

    function showEuropeanUnion() {
        map.fitBounds([
          [-24.689924, 35.716942],
          [50.678160, 71.093955]],
          {padding: 50}
        );
    };

    function showBrazil() {
        map.fitBounds([
          [-73.9872354804, -33.7683777809],
          [-34.7299934555, 5.24448639569]],
          {padding: 50}
        );
    };

    function showUnitedStates() {
        map.fitBounds([
          [-125.041939, 24.745653],
          [-66.827536, 49.038054]],
          {padding: 50}
        );
    };

    function showArgentina() {
        map.fitBounds([
          [-73.4154357571, -55.25],
          [-53.628348965, -21.8323104794]],
          {padding: 50}
        );
    };

    function showParaguay() {
        map.fitBounds([
          [-62.6850571357, -27.5484990374],
          [-54.2929595608, -19.3427466773]],
          {padding: 50}
        );
    };

    function showVatican() {
        map.fitBounds([
          [12.445713, 41.900179],
          [12.458437, 41.9074918]],
          {padding: 50}
        );
    };

    function showItaly() {
        map.fitBounds([
          [6.7499552751, 36.619987291],
          [18.4802470232, 47.1153931748]],
          {padding: 50}
        );
    };

    function showCroatia() {
        map.fitBounds([
          [13.6569755388, 42.47999136],
          [19.3904757016, 46.5037509222]],
          {padding: 50}
        );
    };

</script>


<!-- Default Statcounter code for photo website
https://haraldo-albergaria.photos/ -->
<script type="text/javascript">
var sc_project=12357551;
var sc_invisible=1;
var sc_security="b15a6b74";
var sc_https=1;
var sc_remove_link=1;
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js" async></script>
<noscript><div class="statcounter"><img class="statcounter"
  src="https://c.statcounter.com/12357551/0/b15a6b74/1/"
  alt="Web Analytics"></div></noscript>
<!-- End of Statcounter Code -->

</body>
</html>

