<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Haraldo Albergaria | Exhibitions Map</title>
  <link rel="shortcut icon" type="image/x-icon" href="../../icons/favicon.ico">
  <link rel="stylesheet" type="text/css" href="../style.css" />
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"></script>
  <link href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css" rel="stylesheet" />
  <style>
  body { margin: 0; padding: 0; }
  #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  #menu { position: absolute; background: #fff; padding: 10px;
  font-family: 'Open Sans', sans-serif; cursor: default; }
  </style>
</head>

<body>

  <div id="map"></div>
  <div id="menu">
    <input id="streets-v11" type="radio" name="rtoggle" value="streets" checked="checked" />
    <label for="streets-v11">streets</label>
    <input id="outdoors-v11" type="radio" name="rtoggle" value="outdoors" />
    <label for="outdoors-v11">outdoors</label>
    <input id="satellite-v9" type="radio" name="rtoggle" value="satellite" />
    <label for="satellite-v9">satellite</label>
  </div>

  <div class="exhibits-countries-panel">
    <div class="flag-icon"><img class="icon" src="../icons/united-kingdom.svg" title="United Kingdom" alt="United Kingdom" onclick="showUnitedKingdom()"/></div>
    <div class="flag-icon"><img class="icon" src="../icons/hungary.svg" title="Hungary" alt="Hungary" onclick="showHungary()"/></div>
    <div class="flag-icon"><img class="icon" src="../icons/greece.svg" title="Greece" alt="Greece" onclick="showGreece()"/></div>
    <div class="flag-icon"><img class="icon" src="../icons/european-union.svg" title="European Union" alt="European Union" onclick="showEuropeanUnion()"/></div>
    <div class="flag-icon"><img class="icon" src="../icons/worldwide.svg" title="Worldwide" alt="Worldwide" onclick="showWorldwide()"/></div>
  </div>

  <div class="map-switcher">
    <div class="unselected-photos" onclick="openPhotos()">PHOTOS</div>
    <div class="selected-exhibits">EXHIBITS</div>
  </div>

  <div class="attribution">
    Icons made by <a href="https://www.flaticon.com/authors/turkkub" title="turkkub" target="_blank">turkkub</a> (World) and <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> (Countries) from <a href="https://www.flaticon.com/" title="Flaticon" target="_blank">www.flaticon.com</a>
  </div>

  <script>

  mapboxgl.accessToken = 'pk.eyJ1IjoiaGFyYWxkby1maWxobyIsImEiOiJja2NpNmNtNWUwZnZnMnlycDBwM3FjeXp2In0.B1eDc6wvyIq1r_LTC6hX0g';

  var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/streets-v11'
  });

  map.addControl(new mapboxgl.FullscreenControl({container: document.querySelector('body')})); 
  map.addControl(new mapboxgl.NavigationControl());

  function openPhotos() {
      window.location.replace("https://hpfilho.github.io/map/");
  }

  var layerList = document.getElementById('menu');
  var inputs = layerList.getElementsByTagName('input');

  function switchLayer(layer) {
    var layerId = layer.target.id;
    map.setStyle('mapbox://styles/mapbox/' + layerId);
  }

  for (var i = 0; i < inputs.length; i++) {
    inputs[i].onclick = switchLayer;
  }

  var locations = getLocations();

  var west = 180;
  var south = 90;
  var east = -180;
  var north = -90;

  locations.forEach(addMarker);

  map.fitBounds([
    [west, south],
    [east, north]],
    {padding: 150}
  );

  function addMarker(value) {
    new mapboxgl.Marker({color:'#034081',scale:0.7,draggable:false})
    .setLngLat(value[0])
    .setPopup(new mapboxgl.Popup({closeButton:false,maxWidth:'566px'}).setHTML(value[1]))
    .addTo(map);

    if (value[0][0] < west) {
      west = value[0][0];
    }

    if (value[0][0] > east) {
      east = value[0][0];
    }

    if (value[0][1] < south) {
      south = value[0][1];
    }

    if (value[0][1] > north) {
      north = value[0][1];
    }
 
  }

  function showWorldwide() {
    map.fitBounds([
      [-160, -20],
      [180, 60]],
      {padding:50}
    );
  };

  function showEuropeanUnion() {
    map.fitBounds([
      [-24.689924, 35.716942],
      [50.678160, 71.093955]],
      {padding:50}
    );
  };

  function showGreece() {
    map.fitBounds([
      [20.1500159034, 34.9199876979],
      [26.6041955909, 41.8269046087]],
      {padding:50}
    );
  };

  function showHungary() {
    map.fitBounds([
      [16.2022982113, 45.7594811061],
      [22.710531447, 48.6238540716]],
      {padding:50}
    );
  };

  function showUnitedKingdom() {
    map.fitBounds([
      [-7.57216793459, 49.959999905],
      [1.68153079591, 58.6350001085]],
      {padding:50}
    );
  };

  function getLocations() {

    var locations = [];
    locations.push([[23.740163, 38.002117], "<div class=\"exhibition\"><div class=\"gallery-name\"><a class=\"exhib\" href=\"http://www.blankwallgallery.com\" target=\"_blank\">Blank Wall Gallery</a></div><div class=\"exhibition-name\"><a class=\"exhib\" href=\"\" target=\"_blank\"> </a></div><div class=\"exhibition-name\"><a class=\"exhib\" href=\"https://www.blankwallgallery.com/exhibition-monochrome-2020/#jp-carousel-11870\" target=\"_blank\">2020 Monochrome</a></div><div class=\"exhibition-name\"><a class=\"exhib\" href=\"http://www.blankwallgallery.com/exhibition-moments-color/#jp-carousel-10187\" target=\"_blank\">2019 Moments of Color</a></div><div class=\"exhibition-name\"><a class=\"exhib\" href=\"http://www.blankwallgallery.com/exhibition-street-photography-2019/#jp-carousel-9748\" target=\"_blank\">2019 Street Photography</a></div><div class=\"exhibition-name\"><a class=\"exhib\" href=\"http://www.blankwallgallery.com/exhibition-black-white-2019/#jp-carousel-8846\" target=\"_blank\">2019 Black & White</a></div></div>"]);
    locations.push([[19.066552, 47.482346], "<div class=\"exhibition\"><div class=\"gallery-name\"><a class=\"exhib\" href=\"https://www.ph21gallery.com\" target=\"_blank\">PH21 Gallery</a></div><div class=\"exhibition-name\"><a class=\"exhib\" href=\"\" target=\"_blank\"> </a></div><div class=\"exhibition-name\"><a class=\"exhib\" href=\"https://www.ph21gallery.com/shape-of-things-19?lightbox=dataItem-juu2ee2x\" target=\"_blank\">2019 The Shape of Things</a></div></div>"]);
    locations.push([[24.019707, 35.518508], "<div class=\"exhibition\"><div class=\"gallery-name\"><a class=\"exhib\" href=\"http://www.cipfestival.com\" target=\"_blank\">Cip Festival</a></div><div class=\"exhibition-name\"><a class=\"exhib\" href=\"\" target=\"_blank\"> </a></div><div class=\"exhibition-name\"><a class=\"exhib\" href=\"http://www.cipfestival.com/participating-artists-2019/#jp-carousel-5786\" target=\"_blank\">2019 Monochrome</a></div></div>"]);
    locations.push([[-4.257888, 55.865262], "<div class=\"exhibition\"><div class=\"gallery-name\"><a class=\"exhib\" href=\"https://www.glasgowgalleryofphotography.com\" target=\"_blank\">Glasgow Photo Gallery</a></div><div class=\"exhibition-name\"><a class=\"exhib\" href=\"\" target=\"_blank\"> </a></div><div class=\"exhibition-name\"><a class=\"exhib\" href=\"https://pt.glasgowgalleryofphotography.com/exhibitors?lightbox=dataItem-kdhruyie2\" target=\"_blank\">2020 Seascapes</a></div></div>"]);

    return locations;

  }

</script>

<!-- Default Statcounter code for photo website
https://haraldo-albergaria.photos/ -->
<script type="text/javascript">
var sc_project=12357551;
var sc_invisible=1;
var sc_security="b15a6b74";
var sc_https=1;
var sc_remove_link=1;
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js" async></script>
<noscript><div class="statcounter"><img class="statcounter"
  src="https://c.statcounter.com/12357551/0/b15a6b74/1/"
  alt="Web Analytics"></div></noscript>
<!-- End of Statcounter Code -->

</body>
</html>
